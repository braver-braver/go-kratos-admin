// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package generated

import (
	"context"
	"database/sql"

	"gorm.io/gorm"
)

var (
	Q                        = new(Query)
	File                     *file
	InternalMessage          *internalMessage
	InternalMessageCategory  *internalMessageCategory
	InternalMessageRecipient *internalMessageRecipient
	SysAPIResource           *sysAPIResource
	SysAdminLoginLog         *sysAdminLoginLog
	SysAdminLoginRestriction *sysAdminLoginRestriction
	SysAdminOperationLog     *sysAdminOperationLog
	SysDepartment            *sysDepartment
	SysDictEntry             *sysDictEntry
	SysDictType              *sysDictType
	SysLanguage              *sysLanguage
	SysMenu                  *sysMenu
	SysOrganization          *sysOrganization
	SysPosition              *sysPosition
	SysRole                  *sysRole
	SysRoleAPI               *sysRoleAPI
	SysRoleDept              *sysRoleDept
	SysRoleMenu              *sysRoleMenu
	SysRoleOrg               *sysRoleOrg
	SysRolePosition          *sysRolePosition
	SysTask                  *sysTask
	SysTenant                *sysTenant
	SysUser                  *sysUser
	SysUserCredential        *sysUserCredential
	SysUserPosition          *sysUserPosition
	SysUserRole              *sysUserRole
)

func SetDefault(db *gorm.DB) {
	*Q = *Use(db)
	File = &Q.File
	InternalMessage = &Q.InternalMessage
	InternalMessageCategory = &Q.InternalMessageCategory
	InternalMessageRecipient = &Q.InternalMessageRecipient
	SysAPIResource = &Q.SysAPIResource
	SysAdminLoginLog = &Q.SysAdminLoginLog
	SysAdminLoginRestriction = &Q.SysAdminLoginRestriction
	SysAdminOperationLog = &Q.SysAdminOperationLog
	SysDepartment = &Q.SysDepartment
	SysDictEntry = &Q.SysDictEntry
	SysDictType = &Q.SysDictType
	SysLanguage = &Q.SysLanguage
	SysMenu = &Q.SysMenu
	SysOrganization = &Q.SysOrganization
	SysPosition = &Q.SysPosition
	SysRole = &Q.SysRole
	SysRoleAPI = &Q.SysRoleAPI
	SysRoleDept = &Q.SysRoleDept
	SysRoleMenu = &Q.SysRoleMenu
	SysRoleOrg = &Q.SysRoleOrg
	SysRolePosition = &Q.SysRolePosition
	SysTask = &Q.SysTask
	SysTenant = &Q.SysTenant
	SysUser = &Q.SysUser
	SysUserCredential = &Q.SysUserCredential
	SysUserPosition = &Q.SysUserPosition
	SysUserRole = &Q.SysUserRole
}

func Use(db *gorm.DB) *Query {
	return &Query{
		db:                       db,
		File:                     newFile(db),
		InternalMessage:          newInternalMessage(db),
		InternalMessageCategory:  newInternalMessageCategory(db),
		InternalMessageRecipient: newInternalMessageRecipient(db),
		SysAPIResource:           newSysAPIResource(db),
		SysAdminLoginLog:         newSysAdminLoginLog(db),
		SysAdminLoginRestriction: newSysAdminLoginRestriction(db),
		SysAdminOperationLog:     newSysAdminOperationLog(db),
		SysDepartment:            newSysDepartment(db),
		SysDictEntry:             newSysDictEntry(db),
		SysDictType:              newSysDictType(db),
		SysLanguage:              newSysLanguage(db),
		SysMenu:                  newSysMenu(db),
		SysOrganization:          newSysOrganization(db),
		SysPosition:              newSysPosition(db),
		SysRole:                  newSysRole(db),
		SysRoleAPI:               newSysRoleAPI(db),
		SysRoleDept:              newSysRoleDept(db),
		SysRoleMenu:              newSysRoleMenu(db),
		SysRoleOrg:               newSysRoleOrg(db),
		SysRolePosition:          newSysRolePosition(db),
		SysTask:                  newSysTask(db),
		SysTenant:                newSysTenant(db),
		SysUser:                  newSysUser(db),
		SysUserCredential:        newSysUserCredential(db),
		SysUserPosition:          newSysUserPosition(db),
		SysUserRole:              newSysUserRole(db),
	}
}

type Query struct {
	db *gorm.DB

	File                     file
	InternalMessage          internalMessage
	InternalMessageCategory  internalMessageCategory
	InternalMessageRecipient internalMessageRecipient
	SysAPIResource           sysAPIResource
	SysAdminLoginLog         sysAdminLoginLog
	SysAdminLoginRestriction sysAdminLoginRestriction
	SysAdminOperationLog     sysAdminOperationLog
	SysDepartment            sysDepartment
	SysDictEntry             sysDictEntry
	SysDictType              sysDictType
	SysLanguage              sysLanguage
	SysMenu                  sysMenu
	SysOrganization          sysOrganization
	SysPosition              sysPosition
	SysRole                  sysRole
	SysRoleAPI               sysRoleAPI
	SysRoleDept              sysRoleDept
	SysRoleMenu              sysRoleMenu
	SysRoleOrg               sysRoleOrg
	SysRolePosition          sysRolePosition
	SysTask                  sysTask
	SysTenant                sysTenant
	SysUser                  sysUser
	SysUserCredential        sysUserCredential
	SysUserPosition          sysUserPosition
	SysUserRole              sysUserRole
}

func (q *Query) Available() bool { return q.db != nil }

func (q *Query) clone(db *gorm.DB) *Query {
	return &Query{
		db:                       db,
		File:                     q.File.clone(db),
		InternalMessage:          q.InternalMessage.clone(db),
		InternalMessageCategory:  q.InternalMessageCategory.clone(db),
		InternalMessageRecipient: q.InternalMessageRecipient.clone(db),
		SysAPIResource:           q.SysAPIResource.clone(db),
		SysAdminLoginLog:         q.SysAdminLoginLog.clone(db),
		SysAdminLoginRestriction: q.SysAdminLoginRestriction.clone(db),
		SysAdminOperationLog:     q.SysAdminOperationLog.clone(db),
		SysDepartment:            q.SysDepartment.clone(db),
		SysDictEntry:             q.SysDictEntry.clone(db),
		SysDictType:              q.SysDictType.clone(db),
		SysLanguage:              q.SysLanguage.clone(db),
		SysMenu:                  q.SysMenu.clone(db),
		SysOrganization:          q.SysOrganization.clone(db),
		SysPosition:              q.SysPosition.clone(db),
		SysRole:                  q.SysRole.clone(db),
		SysRoleAPI:               q.SysRoleAPI.clone(db),
		SysRoleDept:              q.SysRoleDept.clone(db),
		SysRoleMenu:              q.SysRoleMenu.clone(db),
		SysRoleOrg:               q.SysRoleOrg.clone(db),
		SysRolePosition:          q.SysRolePosition.clone(db),
		SysTask:                  q.SysTask.clone(db),
		SysTenant:                q.SysTenant.clone(db),
		SysUser:                  q.SysUser.clone(db),
		SysUserCredential:        q.SysUserCredential.clone(db),
		SysUserPosition:          q.SysUserPosition.clone(db),
		SysUserRole:              q.SysUserRole.clone(db),
	}
}

type queryCtx struct {
	File                     IFileDo
	InternalMessage          IInternalMessageDo
	InternalMessageCategory  IInternalMessageCategoryDo
	InternalMessageRecipient IInternalMessageRecipientDo
	SysAPIResource           ISysAPIResourceDo
	SysAdminLoginLog         ISysAdminLoginLogDo
	SysAdminLoginRestriction ISysAdminLoginRestrictionDo
	SysAdminOperationLog     ISysAdminOperationLogDo
	SysDepartment            ISysDepartmentDo
	SysDictEntry             ISysDictEntryDo
	SysDictType              ISysDictTypeDo
	SysLanguage              ISysLanguageDo
	SysMenu                  ISysMenuDo
	SysOrganization          ISysOrganizationDo
	SysPosition              ISysPositionDo
	SysRole                  ISysRoleDo
	SysRoleAPI               ISysRoleAPIDo
	SysRoleDept              ISysRoleDeptDo
	SysRoleMenu              ISysRoleMenuDo
	SysRoleOrg               ISysRoleOrgDo
	SysRolePosition          ISysRolePositionDo
	SysTask                  ISysTaskDo
	SysTenant                ISysTenantDo
	SysUser                  ISysUserDo
	SysUserCredential        ISysUserCredentialDo
	SysUserPosition          ISysUserPositionDo
	SysUserRole              ISysUserRoleDo
}

func (q *Query) WithContext(ctx context.Context) *queryCtx {
	return &queryCtx{
		File:                     q.File.WithContext(ctx),
		InternalMessage:          q.InternalMessage.WithContext(ctx),
		InternalMessageCategory:  q.InternalMessageCategory.WithContext(ctx),
		InternalMessageRecipient: q.InternalMessageRecipient.WithContext(ctx),
		SysAPIResource:           q.SysAPIResource.WithContext(ctx),
		SysAdminLoginLog:         q.SysAdminLoginLog.WithContext(ctx),
		SysAdminLoginRestriction: q.SysAdminLoginRestriction.WithContext(ctx),
		SysAdminOperationLog:     q.SysAdminOperationLog.WithContext(ctx),
		SysDepartment:            q.SysDepartment.WithContext(ctx),
		SysDictEntry:             q.SysDictEntry.WithContext(ctx),
		SysDictType:              q.SysDictType.WithContext(ctx),
		SysLanguage:              q.SysLanguage.WithContext(ctx),
		SysMenu:                  q.SysMenu.WithContext(ctx),
		SysOrganization:          q.SysOrganization.WithContext(ctx),
		SysPosition:              q.SysPosition.WithContext(ctx),
		SysRole:                  q.SysRole.WithContext(ctx),
		SysRoleAPI:               q.SysRoleAPI.WithContext(ctx),
		SysRoleDept:              q.SysRoleDept.WithContext(ctx),
		SysRoleMenu:              q.SysRoleMenu.WithContext(ctx),
		SysRoleOrg:               q.SysRoleOrg.WithContext(ctx),
		SysRolePosition:          q.SysRolePosition.WithContext(ctx),
		SysTask:                  q.SysTask.WithContext(ctx),
		SysTenant:                q.SysTenant.WithContext(ctx),
		SysUser:                  q.SysUser.WithContext(ctx),
		SysUserCredential:        q.SysUserCredential.WithContext(ctx),
		SysUserPosition:          q.SysUserPosition.WithContext(ctx),
		SysUserRole:              q.SysUserRole.WithContext(ctx),
	}
}

func (q *Query) Transaction(fc func(tx *Query) error, opts ...*sql.TxOptions) error {
	return q.db.Transaction(func(tx *gorm.DB) error { return fc(q.clone(tx)) }, opts...)
}

func (q *Query) Begin(opts ...*sql.TxOptions) *QueryTx {
	return &QueryTx{q.clone(q.db.Begin(opts...))}
}

type QueryTx struct{ *Query }

func (q *QueryTx) Commit() error {
	return q.db.Commit().Error
}

func (q *QueryTx) Rollback() error {
	return q.db.Rollback().Error
}

func (q *QueryTx) SavePoint(name string) error {
	return q.db.SavePoint(name).Error
}

func (q *QueryTx) RollbackTo(name string) error {
	return q.db.RollbackTo(name).Error
}
